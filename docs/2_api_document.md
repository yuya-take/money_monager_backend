# API設計書

## API一覧

- [API-001: ユーザー作成](#api-001-ユーザー作成)
- [API-002: ユーザー情報取得](#api-002-ユーザー情報取得)
- [API-003: ユーザー更新](#api-003-ユーザー情報更新)
- [API-004: ユーザー削除](#api-004-ユーザー削除)



## API-001-1: ユーザー作成(email+pasword)

**メソッド**: POST  
**エンドポイント**: /users  
**名前**: CreateUser  
**説明**: 新しいユーザーを作成します。

**DB操作**: Usersテーブルに新しいレコードを作成します。

**リクエストパラメータ**

| パラメータ名 | 型 | 必須 | 説明 |
|---|---|---|---|
| username | string | Yes | ユーザー名 |
| password | string | Yes | パスワード |
| email | string | Yes | メールアドレス |

**レスポンス**

| パラメータ名 | 型 | 説明 |
|---|---|---|
| userId | integer | ユーザーID |
| username | string | ユーザー名 |
| email | string | メールアドレス |

**エラーレスポンス**

| HTTPステータスコード | 説明 |
|---|---|
| 400 | リクエストパラメータが不正 |
| 500 | サーバーエラー |


## API-001-1: ユーザー作成(oauth)

**メソッド**: POST  
**エンドポイント**: /users/oauth  
**名前**: CreateUser  
**説明**: 新しいユーザーを作成します。

**DB操作**: Usersテーブルに新しいレコードを作成します。

**リクエストパラメータ**

| パラメータ名 | 型 | 必須 | 説明 |
|---|---|---|---|
| providerName | string | Yes | Google |
| providerId | string | Yes | 2t3dssd... |

**レスポンス**

| パラメータ名 | 型 | 説明 |
|---|---|---|
| id | integer | ユーザーID |
| username | string | ユーザー名 |
| email | string | メールアドレス |

**エラーレスポンス**

| HTTPステータスコード | 説明 |
|---|---|
| 400 | リクエストパラメータが不正 |
| 500 | サーバーエラー |

---

## API-002: ユーザー情報取得

**メソッド**: GET  
**エンドポイント**: /users/{id}  
**名前**: GetUser  
**説明**: 指定したIDのユーザー情報を取得します。  

**DB操作**: Usersテーブルから指定したIDのレコードを取得します。

**リクエストパラメータ**

| パラメータ名 | 型 | 必須 | 説明 |
|---|---|---|---|
| id | integer | Yes | ユーザーID |

**レスポンス**

| パラメータ名 | 型 | 説明 |
|---|---|---|
| id | integer | ユーザーID |
| username | string | ユーザー名 |
| email | string | メールアドレス |

**エラーレスポンス**

| HTTPステータスコード | 説明 |
|---|---|
| 400 | リクエストパラメータが不正 |
| 404 | ユーザーが見つからない |
| 500 | サーバーエラー |

---

## API-003: ユーザー情報更新

**メソッド**: PUT  
**エンドポイント**: /users/{id}  
**名前**: UpdateUser  
**説明**: 指定したIDのユーザー情報を更新します。  

**DB操作**: Usersテーブルの指定したIDのレコードを更新します。

**リクエストパラメータ**

| パラメータ名 | 型 | 必須 | 説明 |
|---|---|---|---|
| id | integer | Yes | ユーザーID |
| email | string | Yes | 新しいメールアドレス |
| username | string | No | 新しいユーザー名 |

**レスポンス**

| パラメータ名 | 型 | 説明 |
|---|---|---|
| id | integer | ユーザーID |
| username | string | 更新後のユーザー名 |
| email | string | 更新後のメールアドレス |

**エラーレスポンス**

| HTTPステータスコード | 説明 |
|---|---|
| 400 | リクエストパラメータが不正 |
| 404 | ユーザーが見つからない |
| 500 | サーバーエラー |

---

## API-004: ユーザー削除

**メソッド**: DELETE  
**エンドポイント**: /users/{id}  
**名前**: DeleteUser  
**説明**: 指定したIDのユーザーを削除します。  

**DB操作**: Usersテーブルの指定したIDのレコードを削除します。

**リクエストパラメータ**

| パラメータ名 | 型 | 必須 | 説明 |
|---|---|---|---|
| id | integer | Yes | ユーザーID |

**レスポンス**

| パラメータ名 | 型 | 説明 |
|---|---|---|
| id | integer | 削除されたユーザーID |

**エラーレスポンス**

| HTTPステータスコード | 説明 |
|---|---|
| 400 | リクエストパラメータが不正 |
| 404 | ユーザーが見つからない |
| 500 | サーバーエラー |
